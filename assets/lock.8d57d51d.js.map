{"version":3,"file":"lock.8d57d51d.js","sources":["../../src/mac/lock.vue"],"sourcesContent":["import { getUserInfo } from '../api/user';\n<template>\n\t<div class=\"mac_bg\"></div>\n\t<div class=\"login animate__animated\" :class=\"{ animate__bounceOut: pass }\">\n\t\t<div class=\"head\">\n\t\t\t<img src=\"https://avatar.gitee.com/uploads/61/632261_smallweigit.jpg!avatar100?1518660401\" alt=\"\" />\n\t\t</div>\n\t\t<div class=\"message\">{{ userInfo.username }}</div>\n\t\t<div class=\"form\">\n\t\t\t<div class=\"item\" style=\"width: 320px\" :class=\"passwdError ? 'error' : ''\">\n\t\t\t\t<input class=\"password\" placeholder=\"password here...\" v-model=\"passwd\" type=\"password\" />\n\t\t\t\t<i class=\"iconfont el-icon-unlock\" @click=\"handleLogin\"></i>\n\t\t\t\t<i class=\"iconfont icon-tuichu\" @click=\"handleLogout\"></i>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup lang=\"ts\">\nimport { useCommonStore, useTagsStore, useUserStore } from '@/store';\nimport { computed, ref } from 'vue';\nimport { useRouter } from 'vue-router';\n\nconst passwdError = ref(false);\nconst passwd = ref('');\nconst pass = ref(false);\n\nconst router = useRouter();\nconst userStore = useUserStore();\nconst tagsStore = useTagsStore();\nconst commonStore = useCommonStore();\n\nconst userInfo = computed(() => {\n\treturn userStore.getUserInfo;\n});\nconst tag = computed(() => {\n\treturn tagsStore.getTag;\n});\nconst lockPasswd = computed(() => {\n\treturn commonStore.getLockPasswd;\n});\n\nconst handleLogout = () => {\n\tuserStore.LogOut().then(() => {\n\t\trouter.push({ path: '/login' });\n\t});\n};\nconst handleLogin = () => {\n\tif (passwd.value != lockPasswd.value) {\n\t\tpasswd.value = '';\n\t\tpasswdError.value = true;\n\t\tsetTimeout(() => {\n\t\t\tpasswdError.value = false;\n\t\t}, 1000);\n\t\treturn;\n\t}\n\tpass.value = true;\n\tsetTimeout(() => {\n\t\tcommonStore.CLEAR_LOCK();\n\t\trouter.push({\n\t\t\tpath: tag.value\n\t\t});\n\t}, 1000);\n};\n</script>\n<style scoped>\n@import './login.css';\n</style>\n"],"names":[],"mappings":"+gBAsBA,KAAA,GAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAEA,EAAA,IACA,EAAA,IACA,EAAA,IACA,EAAA,IAEA,EAAA,EAAA,IACA,EAAA,WACA,EACA,EAAA,EAAA,IACA,EAAA,MACA,EACA,EAAA,EAAA,IACA,EAAA,aACA,EAEA,EAAA,IAAA,CACA,EAAA,SAAA,KAAA,IAAA,CACA,EAAA,KAAA,CAAA,KAAA,QAAA,CAAA,CAAA,CACA,CAAA,EAEA,EAAA,IAAA,CACA,GAAA,EAAA,OAAA,EAAA,MAAA,CACA,EAAA,MAAA,GACA,EAAA,MAAA,GACA,WAAA,IAAA,CACA,EAAA,MAAA,IACA,GAAA,EACA,MACA,CACA,EAAA,MAAA,GACA,WAAA,IAAA,CACA,EAAA,WAAA,EACA,EAAA,KAAA,CACA,KAAA,EAAA,KAAA,CACA,GACA,GAAA,CAAA"}
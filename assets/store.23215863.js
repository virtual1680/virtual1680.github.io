import{w as website,v as validatenull}from"./index.1f3af114.js";const keyName=website.key+"-",setStore=e=>{let{name:t,content:o,type:s}=e;t=keyName+t;let a={dataType:typeof o,content:o,type:s,datetime:(new Date).getTime()};s?window.sessionStorage.setItem(t,JSON.stringify(a)):window.localStorage.setItem(t,JSON.stringify(a))},getStore=params=>{let{name:name,debug:debug}=params;name=keyName+name;let obj={},content;if(obj=window.sessionStorage.getItem(name),validatenull(obj)&&(obj=window.localStorage.getItem(name)),!validatenull(obj)){try{obj=JSON.parse(obj)}catch{return obj}return debug?obj:("string"==obj.dataType?content=obj.content:"number"==obj.dataType?content=Number(obj.content):"boolean"==obj.dataType?content=eval(obj.content):"object"==obj.dataType&&(content=obj.content),content)}},removeStore=e=>{let{name:t,type:o}=e;t=keyName+t,o?window.sessionStorage.removeItem(t):window.localStorage.removeItem(t)},getAllStore=e=>{let t=[],{type:o}=e;if(o)for(let s=0;s<=window.sessionStorage.length;s++)t.push({name:window.sessionStorage.key(s),content:getStore({name:window.sessionStorage.key(s)||"",type:"session"})});else for(let s=0;s<=window.localStorage.length;s++)t.push({name:window.localStorage.key(s),content:getStore({name:window.localStorage.key(s)||""})});return t},clearStore=e=>{let{type:t}=e;t?window.sessionStorage.clear():window.localStorage.clear()};var store_vue_vue_type_style_index_0_lang=(()=>".title{margin-bottom:10px}.box{margin-bottom:20px}\n")();const _hoisted_1=Vue.createElementVNode("h3",null,"存储",-1),_hoisted_2=Vue.createTextVNode("基本读写删(持久化存储)"),_hoisted_3={class:"box"},_hoisted_4=Vue.createTextVNode("set('username', 'avue')"),_hoisted_5=Vue.createTextVNode("get('username')"),_hoisted_6=Vue.createTextVNode("remove('username')"),_hoisted_7=Vue.createTextVNode("设置session(session存储)"),_hoisted_8={class:"box"},_hoisted_9=Vue.createTextVNode("set('username', 'avue')"),_hoisted_10=Vue.createTextVNode("get('username')"),_hoisted_11=Vue.createTextVNode("remove('username')"),_hoisted_12=Vue.createTextVNode("获取所有可以获得的数据"),_hoisted_13={class:"box"},_hoisted_14=Vue.createTextVNode("getAll(持久化存储)"),_hoisted_15=Vue.createTextVNode("getAll(session存储)"),_hoisted_16=Vue.createTextVNode("delAll(持久化存储)"),_hoisted_17=Vue.createTextVNode("delAll(session存储)"),__default__=Vue.defineComponent({name:"store"}),_sfc_main=Vue.defineComponent({...__default__,setup(e){const t=e=>{const{name:t,value:o,type:s}=e;setStore({name:t,content:o,type:s}),ElementPlus.ElMessage.success(`设置数据 ${t} = ${o}`)},o=e=>{const{name:t,type:o}=e,s=getStore({name:t,type:o});ElementPlus.ElMessage.success(`获取数据 ${t} = ${s}`)},s=e=>{const{name:t,type:o}=e;removeStore({name:t,type:o}),ElementPlus.ElMessage.success(`删除数据 ${t}`)},a=(e={})=>{clearStore(e),ElementPlus.ElMessage.success("清除全部数据完成")},n=(e={})=>{getAllStore(e);ElementPlus.ElMessage.success("结果已经打印到控制台")};return(e,l)=>{const i=Vue.resolveComponent("el-tag"),u=Vue.resolveComponent("el-button"),d=Vue.resolveComponent("basic-container");return Vue.openBlock(),Vue.createBlock(d,null,{default:Vue.withCtx((()=>[_hoisted_1,Vue.createVNode(i,{class:"title"},{default:Vue.withCtx((()=>[_hoisted_2])),_:1}),Vue.createElementVNode("div",_hoisted_3,[Vue.createVNode(u,{type:"primary",onClick:l[0]||(l[0]=e=>t({name:"username",value:"avue"}))},{default:Vue.withCtx((()=>[_hoisted_4])),_:1}),Vue.createVNode(u,{type:"success",onClick:l[1]||(l[1]=e=>o({name:"username"}))},{default:Vue.withCtx((()=>[_hoisted_5])),_:1}),Vue.createVNode(u,{type:"danger",onClick:l[2]||(l[2]=e=>s({name:"username"}))},{default:Vue.withCtx((()=>[_hoisted_6])),_:1})]),Vue.createVNode(i,{class:"title"},{default:Vue.withCtx((()=>[_hoisted_7])),_:1}),Vue.createElementVNode("div",_hoisted_8,[Vue.createVNode(u,{type:"primary",onClick:l[3]||(l[3]=e=>t({name:"username",value:"avue",type:"session"}))},{default:Vue.withCtx((()=>[_hoisted_9])),_:1}),Vue.createVNode(u,{type:"success",onClick:l[4]||(l[4]=e=>o({name:"username",type:"session"}))},{default:Vue.withCtx((()=>[_hoisted_10])),_:1}),Vue.createVNode(u,{type:"danger",onClick:l[5]||(l[5]=e=>s({name:"username",type:"session"}))},{default:Vue.withCtx((()=>[_hoisted_11])),_:1})]),Vue.createVNode(i,{class:"title"},{default:Vue.withCtx((()=>[_hoisted_12])),_:1}),Vue.createElementVNode("div",_hoisted_13,[Vue.createVNode(u,{type:"success",onClick:l[6]||(l[6]=e=>n())},{default:Vue.withCtx((()=>[_hoisted_14])),_:1}),Vue.createVNode(u,{type:"success",onClick:l[7]||(l[7]=e=>n({type:"session"}))},{default:Vue.withCtx((()=>[_hoisted_15])),_:1}),Vue.createVNode(u,{type:"danger",onClick:l[8]||(l[8]=e=>a())},{default:Vue.withCtx((()=>[_hoisted_16])),_:1}),Vue.createVNode(u,{type:"danger",onClick:l[9]||(l[9]=e=>a({type:"session"}))},{default:Vue.withCtx((()=>[_hoisted_17])),_:1})])])),_:1})}}});export{_sfc_main as default};
//# sourceMappingURL=store.23215863.js.map

{"version":3,"file":"lock.b94611f9.js","sources":["../../src/mac/lock.vue"],"sourcesContent":["import { getUserInfo } from '../api/user';\r\n<template>\r\n\t<div class=\"mac_bg\"></div>\r\n\t<div class=\"login animate__animated\" :class=\"{ animate__bounceOut: pass }\">\r\n\t\t<div class=\"head\">\r\n\t\t\t<img src=\"https://avatar.gitee.com/uploads/61/632261_smallweigit.jpg!avatar100?1518660401\" alt=\"\" />\r\n\t\t</div>\r\n\t\t<div class=\"message\">{{ userInfo.username }}</div>\r\n\t\t<div class=\"form\">\r\n\t\t\t<div class=\"item\" style=\"width: 320px\" :class=\"passwdError ? 'error' : ''\">\r\n\t\t\t\t<input class=\"password\" placeholder=\"password here...\" v-model=\"passwd\" type=\"password\" />\r\n\t\t\t\t<i class=\"iconfont el-icon-unlock\" @click=\"handleLogin\"></i>\r\n\t\t\t\t<i class=\"iconfont icon-tuichu\" @click=\"handleLogout\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { useCommonStore, useTagsStore, useUserStore } from '@/store';\r\nimport { computed, ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\n\r\nconst passwdError = ref(false);\r\nconst passwd = ref('');\r\nconst pass = ref(false);\r\n\r\nconst router = useRouter();\r\nconst userStore = useUserStore();\r\nconst tagsStore = useTagsStore();\r\nconst commonStore = useCommonStore();\r\n\r\nconst userInfo = computed(() => {\r\n\treturn userStore.getUserInfo;\r\n});\r\nconst tag = computed(() => {\r\n\treturn tagsStore.getTag;\r\n});\r\nconst lockPasswd = computed(() => {\r\n\treturn commonStore.getLockPasswd;\r\n});\r\n\r\nconst handleLogout = () => {\r\n\tuserStore.LogOut().then(() => {\r\n\t\trouter.push({ path: '/login' });\r\n\t});\r\n};\r\nconst handleLogin = () => {\r\n\tif (passwd.value != lockPasswd.value) {\r\n\t\tpasswd.value = '';\r\n\t\tpasswdError.value = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tpasswdError.value = false;\r\n\t\t}, 1000);\r\n\t\treturn;\r\n\t}\r\n\tpass.value = true;\r\n\tsetTimeout(() => {\r\n\t\tcommonStore.CLEAR_LOCK();\r\n\t\trouter.push({\r\n\t\t\tpath: tag.value\r\n\t\t});\r\n\t}, 1000);\r\n};\r\n</script>\r\n<style scoped>\r\n@import './login.css';\r\n</style>\r\n"],"names":["passwdError","Vue","passwd","pass","router","VueRouter","useRouter","userStore","useUserStore","tagsStore","useTagsStore","commonStore","useCommonStore","userInfo","getUserInfo","tag","getTag","lockPasswd","getLockPasswd","handleLogout","LogOut","then","push","path","handleLogin","value","setTimeout","CLEAR_LOCK"],"mappings":"2dAsBA,MAAAA,EAAAC,YACAC,EAAAD,YACAE,EAAAF,YAEAG,EAAAC,UAAAC,YACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAZ,kBACAM,EAAAO,cAEAC,EAAAd,kBACAQ,EAAAO,SAEAC,EAAAhB,kBACAU,EAAAO,gBAGAC,EAAA,KACAZ,EAAAa,SAAAC,MAAA,KACAjB,EAAAkB,KAAA,CAAAC,KAAA,eAGAC,EAAA,KACA,GAAAtB,EAAAuB,OAAAR,EAAAQ,MAMA,OALAvB,EAAAuB,MAAA,GACAzB,EAAAyB,OAAA,OACAC,YAAA,KACA1B,EAAAyB,OAAA,IAAA,KAIAtB,EAAAsB,OAAA,EACAC,YAAA,KACAf,EAAAgB,aACAvB,EAAAkB,KAAA,CAAAC,KAAAR,EAAAU,UAEA"}
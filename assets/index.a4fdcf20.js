import{_ as e,g as t}from"./index.889f4e9c.js";const l=["onMouseleave"],o={class:"box-top"},a={class:"box-center"},n={class:"box-center-center loader"},u=["onMousedown"],i={class:"controll"},r=["onClick"],s=["onClick"],c=["src"],d={class:"box-bottom"};var v=e(Vue.defineComponent({__name:"index",props:{app:Object,onDestroy:Function},setup(e){var v,p;const b=e,{app:m}=Vue.toRefs(b),V=Vue.ref(!0),f=Vue.ref(!1);let h=Vue.reactive({x:0,y:0}),x=Vue.reactive({left:100,right:100,top:100,bottom:100}),g=Vue.reactive({left:0,right:0,top:0,bottom:0});const y=Vue.ref(!1),E=Vue.ref("false"),N=Vue.ref(!1),w=Vue.ref(!1),M=Vue.computed((()=>{var e;return t(null==(e=b.app)?void 0:e.path)?"":window.location.origin})),k=()=>{let e=document.getElementsByClassName("moveBg");if(1==e.length)return;let t=0;for(let l=0;l<e.length;l++){let o=e[l].getElementsByClassName("box")[0].style,a=Number(o.zIndex);t<a&&(t=a)}t+=1,document.getElementsByClassName("box")[0].style.zIndex=t},z=()=>{var e;V.value=!1,null==(e=b.onDestroy)||e.call(b)},C=()=>{var e;(null==(e=b.app)?void 0:e.disableResize)||(w.value=!w.value,w.value?N.value=!0:N.value=!1)},X=()=>{var e,t;let l="";return y.value||f.value||(l+="box-animation "),N.value&&(l+="isMaxShowing "),w.value&&(l+="isFullScreen "),(null==(e=b.app)?void 0:e.disableResize)&&(l+="resize-disabled "),(null==(t=b.app)?void 0:t.isTop)&&(l+="isTop "),l},Y=()=>{var e;(null==(e=b.app)?void 0:e.disableResize)||(N.value=!N.value,N.value||(w.value=!1))},B=e=>{w.value||N.value||(g={left:x.left,right:x.right,top:x.top,bottom:x.bottom},h.x=e.clientX,h.y=e.clientY,f.value=!0)},S=()=>{f.value=!1,y.value=!1,E.value="false"},R=()=>{f.value=!1,y.value=!1,E.value="false"},D=e=>{if(y.value)switch(w.value=!1,N.value=!1,E.value){case"box-top-left":x.top=g.top+(e.clientY-h.y),x.left=g.left+(e.clientX-h.x);break;case"box-top-center":x.top=g.top+(e.clientY-h.y);break;case"box-top-right":x.top=g.top+(e.clientY-h.y),x.right=g.right-(e.clientX-h.x);break;case"box-center-left":x.left=g.left+(e.clientX-h.x);break;case"box-bottom-left":x.left=g.left+(e.clientX-h.x),x.bottom=g.bottom-(e.clientY-h.y);break;case"box-bottom-center":x.bottom=g.bottom-(e.clientY-h.y);break;case"box-center-right":x.right=g.right-(e.clientX-h.x);break;case"box-bottom-right":x.right=g.right-(e.clientX-h.x),x.bottom=g.bottom-(e.clientY-h.y)}else if(f.value)return w.value=!1,N.value=!1,x.left=g.left+(e.clientX-h.x),x.right=g.right-(e.clientX-h.x),x.top=g.top+(e.clientY-h.y),void(x.bottom=g.bottom-(e.clientY-h.y))},_=e=>{var t,l;(null==(t=b.app)?void 0:t.disableResize)||w.value||N.value||(g={left:x.left,top:x.top,right:x.right,bottom:x.bottom},h.x=e.clientX,h.y=e.clientY,y.value=!0,E.value=null==(l=e.target)?void 0:l.className)};return(null==(v=b.app)?void 0:v.width)&&(x.left=x.right=(document.body.clientWidth-b.app.width)/2),(null==(p=b.app)?void 0:p.height)&&(x.bottom=(document.body.clientHeight-b.app.height)/2+50,x.top=(document.body.clientHeight-b.app.height)/2-50),(e,t)=>{var v,p,b,h,g;return Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",{class:"moveBg",onClick:k,onMousemove:D,onMouseup:S,onMouseleave:Vue.withModifiers(R,["stop"]),style:Vue.normalizeStyle({pointerEvents:y.value||f.value?"auto":"none"})},[Vue.createElementVNode("div",{class:Vue.normalizeClass(["box",X()]),style:Vue.normalizeStyle({left:Vue.unref(x).left+"px",top:Vue.unref(x).top+"px",bottom:Vue.unref(x).bottom+"px",right:Vue.unref(x).right+"px"})},[Vue.createElementVNode("div",o,[Vue.createElementVNode("div",{class:"box-top-left",onMousedown:_},null,32),Vue.createElementVNode("div",{class:"box-top-center",onMousedown:_},null,32),Vue.createElementVNode("div",{class:"box-top-right",onMousedown:_},null,32)]),Vue.createElementVNode("div",a,[Vue.createElementVNode("div",{class:"box-center-left",onMousedown:_},null,32),Vue.createElementVNode("div",n,[Vue.createElementVNode("div",{class:"app-bar",style:Vue.normalizeStyle({backgroundColor:null==(v=Vue.unref(m))?void 0:v.tabbarBgColor}),onMousedown:Vue.withModifiers(B,["stop"]),onDblclick:Y},[Vue.createElementVNode("div",i,[Vue.createElementVNode("div",{class:"close",onClick:Vue.withModifiers(z,["stop"])},null,8,r),Vue.createElementVNode("div",{class:Vue.normalizeClass(["full",(null==(p=Vue.unref(m))?void 0:p.disableResize)?"full-disabled":""]),onClick:Vue.withModifiers(C,["stop"])},null,10,s)]),Vue.createElementVNode("div",{class:"title",style:Vue.normalizeStyle({color:null==(b=Vue.unref(m))?void 0:b.tabbarTextColor})},Vue.toDisplayString(null==(h=Vue.unref(m))?void 0:h.title),5)],44,u),Vue.createElementVNode("iframe",{src:Vue.unref(M)+(null==(g=Vue.unref(m))?void 0:g.path),frameborder:"0",class:"iframe"},null,8,c)]),Vue.createElementVNode("div",{class:"box-center-right",onMousedown:_},null,32)]),Vue.createElementVNode("div",d,[Vue.createElementVNode("div",{class:"box-bottom-left",onMousedown:_},null,32),Vue.createElementVNode("div",{class:"box-bottom-center",onMousedown:_},null,32),Vue.createElementVNode("div",{class:"box-bottom-right",onMousedown:_},null,32)])],6)],44,l)),[[Vue.vShow,V.value]])}}}),[["__scopeId","data-v-6d460934"]]);export{v as default};
//# sourceMappingURL=index.a4fdcf20.js.map

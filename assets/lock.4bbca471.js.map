{"version":3,"file":"lock.4bbca471.js","sources":["../../src/mac/lock.vue"],"sourcesContent":["<template>\n\t<div class=\"mac_bg\"></div>\n\t<div class=\"login animate__animated\" :class=\"{ animate__bounceOut: pass }\">\n\t\t<div class=\"head\">\n\t\t\t<img src=\"https://avatar.gitee.com/uploads/61/632261_smallweigit.jpg!avatar100?1518660401\" alt=\"\" />\n\t\t</div>\n\t\t<div class=\"message\">{{ userInfo.username }}</div>\n\t\t<div class=\"form\">\n\t\t\t<div class=\"item\" style=\"width: 320px\" :class=\"passwdError ? 'error' : ''\">\n\t\t\t\t<input class=\"password\" placeholder=\"password here...\" v-model=\"passwd\" type=\"password\" />\n\t\t\t\t<i class=\"iconfont el-icon-unlock\" @click=\"handleLogin\"></i>\n\t\t\t\t<i class=\"iconfont icon-tuichu\" @click=\"handleLogout\"></i>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup lang=\"ts\">\nimport { useCommonStore, useTagsStore, useUserStore } from '@/store';\nimport { computed, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nconst passwdError = ref(false);\nconst passwd = ref('');\nconst pass = ref(false);\n\nconst router = useRouter();\nconst userStore = useUserStore();\nconst tagsStore = useTagsStore();\nconst commonStore = useCommonStore();\n\nconst userInfo = computed(() => {\n\treturn userStore.getUserInfo;\n});\nconst tag = computed(() => {\n\treturn tagsStore.getTag;\n});\nconst lockPasswd = computed(() => {\n\treturn commonStore.getLockPasswd;\n});\n\nconst handleLogout = () => {\n\tuserStore.LogOut().then(() => {\n\t\trouter.push({ path: '/login' });\n\t});\n};\nconst handleLogin = () => {\n\tif (passwd.value != lockPasswd.value) {\n\t\tpasswd.value = '';\n\t\tpasswdError.value = true;\n\t\tsetTimeout(() => {\n\t\t\tpasswdError.value = false;\n\t\t}, 1000);\n\t\treturn;\n\t}\n\tpass.value = true;\n\tsetTimeout(() => {\n\t\tcommonStore.CLEAR_LOCK();\n\t\trouter.push({\n\t\t\tpath: tag.value.path\n\t\t});\n\t}, 1000);\n};\n</script>\n<style scoped>\n@import './login.css';\n</style>\n"],"names":["passwdError","Vue","passwd","pass","router","VueRouter","useRouter","userStore","useUserStore","tagsStore","useTagsStore","commonStore","useCommonStore","userInfo","getUserInfo","tag","getTag","lockPasswd","getLockPasswd","handleLogout","LogOut","then","push","path","handleLogin","value","setTimeout","CLEAR_LOCK"],"mappings":"2dAoBA,MAAAA,EAAAC,YACAC,EAAAD,YACAE,EAAAF,YAEAG,EAAAC,UAAAC,YACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAZ,kBACAM,EAAAO,cAEAC,EAAAd,kBACAQ,EAAAO,SAEAC,EAAAhB,kBACAU,EAAAO,gBAGAC,EAAA,KACAZ,EAAAa,SAAAC,MAAA,KACAjB,EAAAkB,KAAA,CAAAC,KAAA,eAGAC,EAAA,KACA,GAAAtB,EAAAuB,OAAAR,EAAAQ,MAMA,OALAvB,EAAAuB,MAAA,GACAzB,EAAAyB,OAAA,OACAC,YAAA,KACA1B,EAAAyB,OAAA,IAAA,KAIAtB,EAAAsB,OAAA,EACAC,YAAA,KACAf,EAAAgB,aACAvB,EAAAkB,KAAA,CAAAC,KAAAR,EAAAU,MAAAF,SAEA"}
import{H,a3 as L,r as x,a0 as y,e as U,Q as W,R as J,k as K,l as O,m as a,K as m,u as n,$ as w,J as B,W as P}from"./vue.e587a6e4.js";import{_ as Q,f as V}from"./index.308dce99.js";import"./element-plus.99fc94f8.js";const $=["onMouseleave"],q={class:"box-top"},A={class:"box-center"},G={class:"box-center-center loader"},Z=["onMousedown"],ee={class:"controll"},te=["onClick"],oe=["onClick"],ae=["src"],ie={class:"box-bottom"},re=H({__name:"index",props:{app:Object,onDestroy:Function},setup(S){var k,M;const r=S,{app:v}=L(r),_=x(!0),p=x(!1);let o=y({x:0,y:0}),t=y({left:100,right:100,top:100,bottom:100}),i=y({left:0,right:0,top:0,bottom:0});const u=x(!1),g=x("false"),c=x(!1),b=x(!1),R=U(()=>{var e;return V((e=r.app)==null?void 0:e.path)?"":window.location.origin}),X=()=>{let e=document.getElementsByClassName("moveBg");if(e.length==1)return;let s=0;for(let l=0;l<e.length;l++){let h=e[l].getElementsByClassName("box")[0].style,f=Number(h.zIndex);s<f&&(s=f)}s=s+1,document.getElementsByClassName("box")[0].style.zIndex=s},Y=()=>{var e;_.value=!1,(e=r.onDestroy)==null||e.call(r)},D=()=>{var e;(e=r.app)!=null&&e.disableResize||(b.value=!b.value,b.value?c.value=!0:c.value=!1)},F=()=>{var s,l;let e="";return!u.value&&!p.value&&(e+="box-animation "),c.value&&(e+="isMaxShowing "),b.value&&(e+="isFullScreen "),(s=r.app)!=null&&s.disableResize&&(e+="resize-disabled "),(l=r.app)!=null&&l.isTop&&(e+="isTop "),e},E=()=>{var e;(e=r.app)!=null&&e.disableResize||(c.value=!c.value,c.value||(b.value=!1))},N=e=>{b.value||c.value||(i={left:t.left,right:t.right,top:t.top,bottom:t.bottom},o.x=e.clientX,o.y=e.clientY,p.value=!0)},j=()=>{p.value=!1,u.value=!1,g.value="false"},I=()=>{p.value=!1,u.value=!1,g.value="false"},T=e=>{if(u.value){switch(b.value=!1,c.value=!1,g.value){case"box-top-left":t.top=i.top+(e.clientY-o.y),t.left=i.left+(e.clientX-o.x);break;case"box-top-center":t.top=i.top+(e.clientY-o.y);break;case"box-top-right":t.top=i.top+(e.clientY-o.y),t.right=i.right-(e.clientX-o.x);break;case"box-center-left":t.left=i.left+(e.clientX-o.x);break;case"box-bottom-left":t.left=i.left+(e.clientX-o.x),t.bottom=i.bottom-(e.clientY-o.y);break;case"box-bottom-center":t.bottom=i.bottom-(e.clientY-o.y);break;case"box-center-right":t.right=i.right-(e.clientX-o.x);break;case"box-bottom-right":t.right=i.right-(e.clientX-o.x),t.bottom=i.bottom-(e.clientY-o.y);break}return}if(p.value){b.value=!1,c.value=!1,t.left=i.left+(e.clientX-o.x),t.right=i.right-(e.clientX-o.x),t.top=i.top+(e.clientY-o.y),t.bottom=i.bottom-(e.clientY-o.y);return}},d=e=>{var s,l;(s=r.app)!=null&&s.disableResize||b.value||c.value||(i={left:t.left,top:t.top,right:t.right,bottom:t.bottom},o.x=e.clientX,o.y=e.clientY,u.value=!0,g.value=(l=e.target)==null?void 0:l.className)};return(k=r.app)!=null&&k.width&&(t.left=t.right=(document.body.clientWidth-r.app.width)/2),(M=r.app)!=null&&M.height&&(t.bottom=(document.body.clientHeight-r.app.height)/2+50,t.top=(document.body.clientHeight-r.app.height)/2-50),(e,s)=>{var l,z,h,f,C;return W((K(),O("div",{class:"moveBg",onClick:X,onMousemove:T,onMouseup:j,onMouseleave:w(I,["stop"]),style:m({pointerEvents:u.value||p.value?"auto":"none"})},[a("div",{class:B(["box",F()]),style:m({left:n(t).left+"px",top:n(t).top+"px",bottom:n(t).bottom+"px",right:n(t).right+"px"})},[a("div",q,[a("div",{class:"box-top-left",onMousedown:d},null,32),a("div",{class:"box-top-center",onMousedown:d},null,32),a("div",{class:"box-top-right",onMousedown:d},null,32)]),a("div",A,[a("div",{class:"box-center-left",onMousedown:d},null,32),a("div",G,[a("div",{class:"app-bar",style:m({backgroundColor:(l=n(v))==null?void 0:l.tabbarBgColor}),onMousedown:w(N,["stop"]),onDblclick:E},[a("div",ee,[a("div",{class:"close",onClick:w(Y,["stop"])},null,8,te),a("div",{class:B(["full",(z=n(v))!=null&&z.disableResize?"full-disabled":""]),onClick:w(D,["stop"])},null,10,oe)]),a("div",{class:"title",style:m({color:(h=n(v))==null?void 0:h.tabbarTextColor})},P((f=n(v))==null?void 0:f.title),5)],44,Z),a("iframe",{src:n(R)+((C=n(v))==null?void 0:C.path),frameborder:"0",class:"iframe"},null,8,ae)]),a("div",{class:"box-center-right",onMousedown:d},null,32)]),a("div",ie,[a("div",{class:"box-bottom-left",onMousedown:d},null,32),a("div",{class:"box-bottom-center",onMousedown:d},null,32),a("div",{class:"box-bottom-right",onMousedown:d},null,32)])],6)],44,$)),[[J,_.value]])}}});var ne=Q(re,[["__scopeId","data-v-bcea111c"]]);export{ne as default};
//# sourceMappingURL=index.7611db3b.js.map
